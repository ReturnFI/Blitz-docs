# منو Advance

---
<p align="center">

<img src="/docs/Picture/advance-menu.png" width="700" height="400">
</p>

## توضیحات
---

<h4>
1. نصب TCP Brutal
</h4>
TCP Brutal چیست؟
TCP Brutal یک الگوریتم کنترل ازدحام (congestion control) برای پروتکل TCP است. به زبان ساده‌تر، این الگوریتم سعی می‌کند تا سرعت انتقال داده‌ها در شبکه‌های TCP را افزایش دهد، به‌خصوص در شرایطی که پهنای باند محدود یا ناپایدار است. این کار با مدیریت هوشمندانه‌ی میزان داده‌هایی که در یک زمان مشخص ارسال می‌شود، انجام می‌شود.

---

<h4>
2. نصب وارپ
</h4>
وارپ (Warp) چیست؟
وارپ یک سرویس ارائه شده توسط شرکت کلودفلر (Cloudflare) است که از پروتکل وایرگارد برای ایجاد یک تونل امن و سریع بین سرور شما و اینترنت استفاده می‌کند. به عبارت ساده‌تر، وارپ یک لایه امنیتی اضافی به اتصال شما اضافه می‌کند و باعث می‌شود ترافیک اینترنتی شما از طریق سرورهای کلودفلر عبور کند.

---

<h4>
3. تنظیمات وارپ (Configure WARP)
</h4>
این گزینه داری یک زیر منو دیگر میباشید :

```
--------------------------------
Current WARP Configuration:
All traffic: Inactive
Popular sites (Google, Netflix, etc.): Inactive
Domestic sites (geosite:ir, geoip:ir): Inactive
Block adult content: Inactive
--------------------------------
Configure WARP Options:
1. Use WARP for all traffic
2. Use WARP for popular sites
3. Use WARP for domestic sites
4. Block adult content
5. WARP (Plus) Profile
6. WARP (Normal) Profile
7. WARP Status Profile
8. Change IP address
0. Cancel
Select an option:
```

- بخش اول نمایش کانفیگ وارپ میباشد.
- گزینه `1` کل ترافیک از وارپ عبور کند.
- گزینه `2`انتقال ترافیک سایت های عمومی مثال : google , chatgpt , netflix  
- گزینه `3` انتقال ترافیک سایت های داخلی (ایران) از وارپ
- گزینه `4` بلاک کردن سایت های بزرگسالان و محتوای بزرگسال
- گزینه `5` تغییر پروفایل به وارپ پلاس
    - نیازمند داشتن کلید وارپ پلاس
- گزینه `6` تغییر پروفایل به حالت معمولی
- گزینه `7` نمایش اطلاعات پرفایل وارپ و `IP` وارپ
- گزینه `8` تغییر `IP` وارپ

---
<h4>
4. حذف وارپ (Uninstall WARP)
</h4>
با انتخاب این گزینه وارپ و تنظیمات وارپ از سرور حذف خواهد شد

---
<h4>
5. ربات تلگرام (Telegram Bot)
</h4>
این گزینه دارای زیر منو دیگر میباشد : 

```
1. Start Telegram bot service
2. Stop Telegram bot service
0. Back
```

- گزینه `1` فعال سازی ربات تگرام
  - برای فعال سازی ربات تلگرام شما نیاز دارید که با استفاده از ربات `@BotFather` یک ربات ایجاد کنید و توکن ربات داشته باشید.
  - با استفاده از ربات `@userinfobot` آیدی عددی حساب تلگرام خود رو بدست بیارید
  - اگر چند حساب یا ادمین دارید میتونید از علامت `,` استفاده کنید و چند آیدی عدد وارد کنید.

مثال:

```
Enter the Telegram bot token: 9517664116:ABDcYVBVKJHUJCasVjwXtPyQw_eQW9bCl0
Enter the admin IDs (comma-separated): 1562023210,1871475213
``` 

- گزینه `2` حذف ربات تلگرام 

---


<h4>
6. ساب لینک سینگ باکس (SingBox SubLink)
</h4>

این گزینه دارای ساب منو زیر می باشد:

```
1. Start Singbox service
2. Stop Singbox service
0. Back
```

- گزینه `1` فعال سازی ساب سینگ باکس
  - نیاز دارید به یک دامنه یا ساب دامنه برای فعال سازی ساب لینک
  - انتخاب پورت برای فعال سازی ساب لینک

- گزینه `2` غیرفعال سازی ساب و حدف فایل های `certificate` مربوط به دامنه


<h5>
نکته :
</h5>

- این ویژگی با استفاده از سرویس `certbot` برای دامنه `SSL certificate` دریافت میکند.

---

<h4>
7. ساب لینک معمولی (Normal-SUB SubLink)
</h4>.

این گزینه دارای ساب منو زیر می باشد:

```
1. Start Normal-Sub service
2. Stop Normal-Sub service
0. Back
```

- گزینه `1` فعال سازی ساب لینک معمولی  
  - نیاز دارید به یک دامنه یا ساب دامنه برای فعال سازی ساب لینک
  - انتخاب پورت برای فعال سازی ساب لینک

- گزینه `2` غیرفعال سازی ساب و حدف فایل های `certificate` مربوط به دامنه


<h5>
نکته :
</h5>

- این ویژگی با استفاده از سرویس `certbot` برای دامنه `SSL certificate` دریافت میکند.

---

<h4>
8. تغییر پورت (Change Port Hysteria2)
</h4>

بعد از انتخاب این گزینه از شما درخواست پورت جدید میشود.

این پورت مربوط به سرویس اصلی `Hysteria2` میباشد و در صورت تغییر نیاز هست که کاربران کانفیگ خود را بروزرسانی کنند.

---

<h4>
9. تغییر SNI (Change SNI Hysteria2)
</h4>

با استفاده از این گزینه شما میتوانید `SNI` خود را که در هنگام نصب انتخاب کرده اید را تغییر دهید.

دقت داشته باشید با تغییر `SNI` مقادیر `pinSHA256` در فایل `config.json` تغییر خواهد کرد و در صورت قطع شدن کاربران باید دوباره کانفیگ دریافت کنن.

---

<h4>
10. مدیریت مبهم سازی (Manage OBFS)
</h4>

این گزینه داری زیر منو زیر میباشد:


```
1. Remove Obfs
2. Generating new Obfs
0. Back
```

- گزینه `1. Remove Obfs` برای حذف قسمت `obfs` از فایل `config.json` میباشد،
بعضی از نرم افزار ها از `obfs` پشتیبانی نمیکنند.

<h5>
نکته :
</h5>

توصیه میشود `obfs` را حذف نکنید.

``` json
  "obfs": {
    "type": "salamander",
    "salamander": {
      "password": "qyZE9t4VpqgblQCBtbjIBjdFByEe3AIK"
    }
```


- گزینه `2. Generating new Obfs` فعال سازی و دریافت دوباره `obfs`

<h5>
نکته :
</h5>

درصورت حذف `obfs` و فعال سازی دوباره مقادیر بخش `password` تغییر خواهد کرد و نیاز است دوباره کاربر کانفیگ دریافت نماید.

----

<h4>
11. تغییر آدرس ای پی (Change IPs 4-6 )
</h4>

درصورتی که از تانلینگ یا فلوتینگ `IP` استفاده میکنید میتوانید از این گزینه استفاده کنید و مقادیر `IP` کانفیگ های خود را تغییر دهید.

این گزینه داری زیر منو زیر میباشد:

```
1. Change IP4
2. Change IP6
0. Back
```

- گزینه `1` تغییر `IP` ورژن `4` کانفیگ ها
- گزینه `2` تغییر `IP` ورژن `6` کانفیگ ها


---

<h4>
12. بروزرسانی فایل های GEO (Update geo Files)
</h4>

فایل های `geo` برای مسیریابی بهتر و کنترل ترافیک استفاده میشوند.

این گزینه دارای زیر منو زیر میباشد:

```
Configure Geo Update Options:
1. Update Iran Geo Files
2. Update China Geo Files
3. Update Russia Geo Files
4. Check Current Geo Files
0. Cancel
```

- گزینه `1` با استفاده از پروژه [`Chocolate4U`](https://github.com/Chocolate4U/Iran-v2ray-rules) فایل های `geoip.dat` و `geosite.dat` بروزرسانی میکند.
- گزینه `2` با استفاده از پروژه [`Loyalsoldier`](https://github.com/Loyalsoldier/) فایل های `geoip.dat` و `geosite.dat` بروزرسانی میکند این پروژه مربوط به `geo`  سایت های داخلی چین میباشد و برای ایران کارای ندارد.
- گزینه `3` با استفاده از پروژه [`runetfreedom`](https://github.com/runetfreedom/) فایل های `geoip.dat` و `geosite.dat` بروزرسانی میکند این پروژه مربوط به `geo`  سایت های داخلی روسیه میباشد و برای ایران کارای ندارد.
- گزینه `4` نمایش حجم و آخرین تاریخ و ساعت تغییر فایل های `geo`

---

<h4>
13. راه اندازی مجدد (Restart Hysteria2)
</h4>

با استفاده از این گزینه میتوانید سرویس Hysteria2 را ریستارت کنید.

تفاوت این گزینه با دستور مستقیم `systemctl restart hysteria-server.service` در جمع آوری ترافیک اخرین لحظه کاربران قبل از ریستارت است.

درصورتی که از دستور `systemctl restart hysteria-server.service` استفاده کنید ترافیک لحظه ای کاربر ذخیره نمیشود و بهتر است از داخل منو اقدام به راه اندازی سرویس کنید.

---

<h4>
14. بروزرسانی هسته (Update Core Hysteria2)
</h4>

پس از اجرای این گزینه هسته `Hysteria2` به آخرین ورژن بروزرسانی خواهد شد.

---

<h4>
15. حذف اسکریپت (Uninstall Hysteria2)
</h4>

پس از انتخاب این گزینه کل سرویس ها و فایل مربوط به اسکریپت و هسته حذف خواهند شد.