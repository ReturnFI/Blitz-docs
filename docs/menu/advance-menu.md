# منو Advance

---
<p align="center">

<img src="https://github.com/user-attachments/assets/417cc9ce-d460-46c0-8e2f-0b163af41b29" width="700" height="400">
</p>


## توضیحات
---


### 1. نصب TCP Brutal

TCP Brutal چیست؟
TCP Brutal یک الگوریتم کنترل ازدحام (congestion control) برای پروتکل TCP است. به زبان ساده‌تر، این الگوریتم سعی می‌کند تا سرعت انتقال داده‌ها در شبکه‌های TCP را افزایش دهد، به‌خصوص در شرایطی که پهنای باند محدود یا ناپایدار است. این کار با مدیریت هوشمندانه‌ی میزان داده‌هایی که در یک زمان مشخص ارسال می‌شود، انجام می‌شود.

---


### 2. نصب وارپ

وارپ (Warp) چیست؟
وارپ یک سرویس ارائه شده توسط شرکت کلودفلر (Cloudflare) است که از پروتکل وایرگارد برای ایجاد یک تونل امن و سریع بین سرور شما و اینترنت استفاده می‌کند. به عبارت ساده‌تر، وارپ یک لایه امنیتی اضافی به اتصال شما اضافه می‌کند و باعث می‌شود ترافیک اینترنتی شما از طریق سرورهای کلودفلر عبور کند.

---


### 3. تنظیمات وارپ (Configure WARP)

این گزینه داری یک زیر منو دیگر میباشید :

```
--------------------------------
Current WARP Configuration:
All traffic: Inactive
Popular sites (Google, Netflix, etc.): Inactive
Domestic sites (geosite:ir, geoip:ir): Inactive
Block adult content: Inactive
--------------------------------
Configure WARP Options:
1. Use WARP for all traffic
2. Use WARP for popular sites
3. Use WARP for domestic sites
4. Block adult content
5. WARP (Plus) Profile
6. WARP (Normal) Profile
7. WARP Status Profile
8. Change IP address
0. Cancel
Select an option:
```

- بخش اول نمایش کانفیگ وارپ میباشد.
- گزینه `1` کل ترافیک از وارپ عبور کند.
- گزینه `2`انتقال ترافیک سایت های عمومی مثال : google , chatgpt , netflix  
- گزینه `3` انتقال ترافیک سایت های داخلی (ایران) از وارپ
- گزینه `4` بلاک کردن سایت های بزرگسالان و محتوای بزرگسال
- گزینه `5` تغییر پروفایل به وارپ پلاس
    - نیازمند داشتن کلید وارپ پلاس
- گزینه `6` تغییر پروفایل به حالت معمولی
- گزینه `7` نمایش اطلاعات پرفایل وارپ و `IP` وارپ
- گزینه `8` تغییر `IP` وارپ

---

### 4. حذف وارپ (Uninstall WARP)

با انتخاب این گزینه وارپ و تنظیمات وارپ از سرور حذف خواهد شد

---

### 5. ربات تلگرام (Telegram Bot)

این گزینه دارای زیر منو دیگر میباشد : 

```
1. Start Telegram bot service
2. Stop Telegram bot service
0. Back
```

- گزینه `1` فعال سازی ربات تگرام
  - برای فعال سازی ربات تلگرام شما نیاز دارید که با استفاده از ربات `@BotFather` یک ربات ایجاد کنید و توکن ربات داشته باشید.
  - با استفاده از ربات `@userinfobot` آیدی عددی حساب تلگرام خود رو بدست بیارید
  - اگر چند حساب یا ادمین دارید میتونید از علامت `,` استفاده کنید و چند آیدی عدد وارد کنید.

مثال:

```
Enter the Telegram bot token: 9517664116:ABDcYVBVKJHUJCasVjwXtPyQw_eQW9bCl0
Enter the admin IDs (comma-separated): 1562023210,1871475213
``` 

- گزینه `2` حذف ربات تلگرام 

---



### 6. ساب لینک سینگ باکس (SingBox SubLink)


این گزینه دارای ساب منو زیر می باشد:

```
1. Start Singbox service
2. Stop Singbox service
0. Back
```

- گزینه `1` فعال سازی ساب سینگ باکس
  - نیاز دارید به یک دامنه یا ساب دامنه برای فعال سازی ساب لینک
  - انتخاب پورت برای فعال سازی ساب لینک

- گزینه `2` غیرفعال سازی ساب و حدف فایل های `certificate` مربوط به دامنه


<h5>
نکته :
</h5>

- این ویژگی با استفاده از سرویس `certbot` برای دامنه `SSL certificate` دریافت میکند.

---


### 7. ساب لینک معمولی (Normal-SUB SubLink)


این گزینه دارای ساب منو زیر می باشد:

```
1. Start Normal-Sub service
2. Stop Normal-Sub service
0. Back
```

- گزینه `1` فعال سازی ساب لینک معمولی  
  - نیاز دارید به یک دامنه یا ساب دامنه برای فعال سازی ساب لینک
  - انتخاب پورت برای فعال سازی ساب لینک

- گزینه `2` غیرفعال سازی ساب و حدف فایل های `certificate` مربوط به دامنه


<h5>
نکته :
</h5>

- این ویژگی با استفاده از سرویس `certbot` برای دامنه `SSL certificate` دریافت میکند.

---


### 8. پنل وب (Web Panel)


بعد از انتخاب این گزینه زیر منو زیر برای شما اجرا میشود

```
Services Status:
hysteria-webpanel.service: Inactive
hysteria-caddy.service: Inactive

1. Start WebPanel service
2. Stop WebPanel service
3. Get WebPanel URL
4. Show API Token
0. Back
```


- بخش Services Status نمایان گر فعال یا غیر فعال بودن سرویس های وب پنل میباشد.

<h5>
 نکته : 
</h5>

 پنل وب از سرویس `caddy` استفاده میکند در صورت داشتن سرویس های دیگر مانند `nginx` و `apache` ممکن است وب پنل با مشکل مواجعه شود


1.راه اندازی پنل وب (Start WebPanel service)


پس از انتخاب این گزینه  به ترتیب از شما مقادیر زیر را میخواهد:

- Enter the domain name for the SSL certificate

مقدار دامنه یا ساب دامنه خود را بدون `https://` وارد نمایید


- Enter the port number for the service

بعد وارد کردن دامنه از شما مقدار پورت برای راه اندازی سرویس پنل وب را میخواهد 

از پورت های غیر اصلی و خالی استفاده نمایید به طور مثال `8443`


- Enter the admin username

مقدار نام کاربری ادمین را وارد نماید


- Enter the admin password

مقدار پسورد برای ادمین را وارد نمایید (از پسورد های قوی استفاده نمایید)

سپس چند دقیقه صبر نمایید که پکیج ها و سرویس های مورد نظر نصب شوند و در انتها آدرس ورود به پنل برای شما به شکل زیر نمایش داده میشود

```
Hysteria web panel is now running. 
The service is accessible on: https://example.com:8443/8b3dc8o7w4d5djg77t85r7c84e8assvc/
```

2.غیر فعال سازی سرویس پنل وب (Stop WebPanel service)

بعد از انتخاب این گزینه سرویس پنل وب غیرفعال و حذف میشود.


3.دریافت آدرس پنل (Get WebPanel URL)

در صورت نیاز میتواند آدرس ورود به پنل را با این گزینه دریافت کنید.


4.نمایش توکن (Show API Token)

در صورتی که خواستید از API طراحی شده برای پنل استفاده کنید باید با استفاده از توکن احراز هویت را انجام دهید.

این گزینه مقدار توکن API پنل شما را نمایش میدهد.



---


### 9. تغییر پورت (Change Port Hysteria2)


بعد از انتخاب این گزینه از شما درخواست پورت جدید میشود.

این پورت مربوط به سرویس اصلی `Hysteria2` میباشد و در صورت تغییر نیاز هست که کاربران کانفیگ خود را بروزرسانی کنند.

---



### 10. تغییر SNI (Change SNI Hysteria2)


با استفاده از این گزینه شما میتوانید `SNI` خود را که در هنگام نصب انتخاب کرده اید را تغییر دهید.

دقت داشته باشید با تغییر `SNI` مقادیر `pinSHA256` در فایل `config.json` تغییر خواهد کرد و در صورت قطع شدن کاربران باید دوباره کانفیگ دریافت کنن.

---


### 11. مدیریت مبهم سازی (Manage OBFS)


این گزینه داری زیر منو زیر میباشد:


```
1. Remove Obfs
2. Generating new Obfs
0. Back
```

- گزینه `1. Remove Obfs` برای حذف قسمت `obfs` از فایل `config.json` میباشد،
بعضی از نرم افزار ها از `obfs` پشتیبانی نمیکنند.

<h5>
نکته :
</h5>

توصیه میشود `obfs` را حذف نکنید.

``` json
  "obfs": {
    "type": "salamander",
    "salamander": {
      "password": "qyZE9t4VpqgblQCBtbjIBjdFByEe3AIK"
    }
```


- گزینه `2. Generating new Obfs` فعال سازی و دریافت دوباره `obfs`

<h5>
نکته :
</h5>

درصورت حذف `obfs` و فعال سازی دوباره مقادیر بخش `password` تغییر خواهد کرد و نیاز است دوباره کاربر کانفیگ دریافت نماید.

----


### 12. تغییر آدرس ای پی (Change IPs 4-6 )


درصورتی که از تانلینگ یا فلوتینگ `IP` استفاده میکنید میتوانید از این گزینه استفاده کنید و مقادیر `IP` کانفیگ های خود را تغییر دهید.

این گزینه داری زیر منو زیر میباشد:

```
1. Change IP4
2. Change IP6
0. Back
```

- گزینه `1` تغییر `IP` ورژن `4` کانفیگ ها
- گزینه `2` تغییر `IP` ورژن `6` کانفیگ ها


---


### 13. بروزرسانی فایل های GEO (Update geo Files)


فایل های `geo` برای مسیریابی بهتر و کنترل ترافیک استفاده میشوند.

این گزینه دارای زیر منو زیر میباشد:

```
Configure Geo Update Options:
1. Update Iran Geo Files
2. Update China Geo Files
3. Update Russia Geo Files
4. Check Current Geo Files
0. Cancel
```

- گزینه `1` با استفاده از پروژه [`Chocolate4U`](https://github.com/Chocolate4U/Iran-v2ray-rules) فایل های `geoip.dat` و `geosite.dat` بروزرسانی میکند.
- گزینه `2` با استفاده از پروژه [`Loyalsoldier`](https://github.com/Loyalsoldier/) فایل های `geoip.dat` و `geosite.dat` بروزرسانی میکند این پروژه مربوط به `geo`  سایت های داخلی چین میباشد و برای ایران کارای ندارد.
- گزینه `3` با استفاده از پروژه [`runetfreedom`](https://github.com/runetfreedom/) فایل های `geoip.dat` و `geosite.dat` بروزرسانی میکند این پروژه مربوط به `geo`  سایت های داخلی روسیه میباشد و برای ایران کارای ندارد.
- گزینه `4` نمایش حجم و آخرین تاریخ و ساعت تغییر فایل های `geo`

---

### 14. مدیریت استتار (Manage Masquerade)

یکی از کلیدهای تقویت کننده Hysteria در برابر سانسور، توانایی آن در وانمود کردن به عنوان ترافیک استاندارد HTTP/3 است. این بدان معناست که بسته‌ها نه تنها برای تجهیزات میانی به‌صورت HTTP/3 دیده می‌شوند، بلکه سرور نیز به درخواست‌های HTTP مانند یک سرور وب معمولی پاسخ می‌دهد. با این حال، این به این معناست که سرور شما باید واقعاً محتوایی را ارائه دهد تا برای سانسورچیان احتمالی واقعی به نظر برسد.

**نکته:**
ما از روش پروکسی استفاده میکنم و به عنوان یک پروکسی معکوس عمل می‌کند و محتوای یک وب‌سایت دیگر را ارائه می‌دهد.


این گزینه دارای یک زیر منو میباشید:

```
1. Enable Masquerade
2. Remove Masquerade
0. Back
```

- گزینه `1` فعال کردن استتار
    - برای فعال سازی نیاز به دامنه یک سایت مانند `SNI` که استفاده میکنید دارید

- گزینه `2` غیرفعال سازی استتار


---


### 15. راه اندازی مجدد (Restart Hysteria2)

با استفاده از این گزینه میتوانید سرویس Hysteria2 را ریستارت کنید.

تفاوت این گزینه با دستور مستقیم `systemctl restart hysteria-server.service` در جمع آوری ترافیک اخرین لحظه کاربران قبل از ریستارت است.

درصورتی که از دستور `systemctl restart hysteria-server.service` استفاده کنید ترافیک لحظه ای کاربر ذخیره نمیشود و بهتر است از داخل منو اقدام به راه اندازی سرویس کنید.

---


### 16. بروزرسانی هسته (Update Core Hysteria2)


پس از اجرای این گزینه هسته `Hysteria2` به آخرین ورژن بروزرسانی خواهد شد.

---


### 17. حذف اسکریپت (Uninstall Hysteria2)


پس از انتخاب این گزینه کل سرویس ها و فایل مربوط به اسکریپت و هسته حذف خواهند شد.
